<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Abud Culinary Creations | Home & Kitchen Finds</title>

  <!-- ✅ Pinterest Verification -->
  <meta name="p:domain_verify" content="89fa85a0d4137fb8c7ac26a581de7fe8"/>

  <!-- ✅ Pinterest Tag -->
  <script>
  !function(e){if(!window.pintrk){window.pintrk = function () {
  window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var
    n=window.pintrk;n.queue=[],n.version="3.0";var
    t=document.createElement("script");t.async=!0,t.src=e;var
    r=document.getElementsByTagName("script")[0];
    r.parentNode.insertBefore(t,r)}}("https://s.pinimg.com/ct/core.js");
  pintrk('load', '2614135096472', {em: '<user_email_address>'});
  pintrk('page');
  </script>
  <noscript>
  <img height="1" width="1" style="display:none;" alt=""
    src="https://ct.pinterest.com/v3/?event=init&tid=2614135096472&pd[em]=<hashed_email_address>&noscript=1" />
  </noscript>
  <!-- end Pinterest Tag -->

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body { background-color: #fafafa; }
    .product-card:hover {
      transform: scale(1.02);
      transition: all 0.2s ease-in-out;
    }
    .filter-btn.filter-active {
      box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.8);
    }
  </style>
</head>

<body class="font-sans text-gray-800">

  <!-- Header -->
  <header class="bg-white shadow sticky top-0 z-50">
    <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold text-amber-700">Abud Culinary</h1>
      <nav class="space-x-6">
        <a href="#shop" class="hover:text-amber-600">Shop</a>
        <a href="#about" class="hover:text-amber-600">About</a>
        <a href="#contact" class="hover:text-amber-600">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="bg-amber-50 py-16 text-center">
    <h2 class="text-4xl font-bold mb-4">Curated Kitchen & Home Finds</h2>
    <p class="text-lg text-gray-600 max-w-2xl mx-auto">
      Discover high-quality kitchen tools, home decor, and cooking essentials — all personally curated by Abud Culinary Creations.
    </p>
  </section>

  <!-- Shop Section -->
  <section id="shop" class="max-w-7xl mx-auto px-6 py-12">
    <h3 class="text-4xl font-semibold mb-6 text-center">Shop Our Favorites</h3>

    <!-- Search Bar -->
    <div class="flex justify-center mb-8">
      <input 
        id="searchInput"
        type="text"
        placeholder="Search products..."
        class="w-full sm:w-2/3 md:w-1/2 px-4 py-3 rounded-xl border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500"
      />
    </div>

    <!-- Filter Buttons -->
    <div class="flex justify-center mb-10 gap-3 flex-wrap">
      <button data-filter="all" class="filter-btn bg-gray-200 px-4 py-2 rounded-full hover:bg-gray-300">All</button>
      <button data-filter="amazon" class="filter-btn bg-amber-500 text-white px-4 py-2 rounded-full hover:bg-amber-600">Amazon</button>
      <button data-filter="etsy" class="filter-btn bg-pink-500 text-white px-4 py-2 rounded-full hover:bg-pink-600">Etsy</button>
    </div>

    <!-- Product Grid -->
    <div id="productGrid" class="grid gap-10 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
      <!-- Product cards appear here dynamically -->
    </div>
  </section>

  <!-- About -->
  <section id="about" class="bg-white py-16 text-center">
    <h3 class="text-3xl font-semibold mb-4">About Abud Culinary Creations</h3>
    <p class="max-w-3xl mx-auto text-gray-600">
      At Abud Culinary Creations, we handpick the best tools, appliances, and accessories for the modern kitchen. 
      Our goal is to make cooking easier, more enjoyable, and beautifully designed — with every product tested or loved by our team.
    </p>
  </section>

  <!-- Contact -->
  <section id="contact" class="bg-amber-50 py-16 text-center">
    <h3 class="text-3xl font-semibold mb-4">Get in Touch</h3>
    <p class="text-gray-600">
      Questions or collaboration ideas? Email us at 
      <a href="mailto:info@abudculinary.com" class="text-amber-600">info@abudculinary.com</a>
    </p>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-900 text-gray-400 py-8 text-center text-sm">
    <p>© 2025 Abud Culinary Creations. All rights reserved.</p>
    <p class="mt-2">As an Amazon Associate, we earn from qualifying purchases.</p>
  </footer>

  <!-- JavaScript: Load Products, Search & Filter -->
  <script>
    let allProducts = [];
    let activeFilter = 'all';
    let searchTerm = '';

    function renderProducts() {
      const grid = document.getElementById('productGrid');
      if (!grid) return;

      grid.innerHTML = '';

      const term = searchTerm.trim().toLowerCase();

      const filtered = allProducts.filter(p => {
        const store = (p.store || 'amazon').toLowerCase();

        // Filter by store
        if (activeFilter !== 'all' && store !== activeFilter) {
          return false;
        }

        // Search by name + description
        if (term) {
          const haystack = `${p.name || ''} ${p.description || ''}`.toLowerCase();
          if (!haystack.includes(term)) {
            return false;
          }
        }

        return true;
      });

      if (filtered.length === 0) {
        grid.innerHTML = `
          <p class="text-gray-500 col-span-full text-center">
            No products match your search yet.
          </p>
        `;
        return;
      }

      filtered.forEach(p => {
        const store = (p.store || 'amazon').toLowerCase();
        const btnClass =
          store === 'etsy'
            ? 'mt-auto inline-block bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600'
            : 'mt-auto inline-block bg-amber-600 text-white px-4 py-2 rounded hover:bg-amber-700';
        const btnText = store === 'etsy' ? 'Shop on Etsy' : 'Shop on Amazon';

        const card = document.createElement('div');
        card.className = 'product-card bg-white shadow rounded-2xl overflow-hidden flex flex-col';
        card.innerHTML = `
          <img src="${p.image}" alt="${p.name}" class="w-full h-48 object-cover">
          <div class="p-4 flex flex-col flex-grow">
            <h4 class="text-lg font-semibold mb-2">${p.name}</h4>
            <p class="text-gray-600 mb-4 flex-grow">${p.description}</p>
            <a href="${p.link}" target="_blank" rel="noopener noreferrer" class="${btnClass}">
              ${btnText}
            </a>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    function setupUI() {
      const searchInput = document.getElementById('searchInput');
      const filterButtons = document.querySelectorAll('.filter-btn');

      if (searchInput) {
        searchInput.addEventListener('input', (e) => {
          searchTerm = e.target.value;
          renderProducts();
        });
      }

      if (filterButtons.length) {
        filterButtons.forEach(btn => {
          btn.addEventListener('click', () => {
            activeFilter = btn.dataset.filter || 'all';

            // Update active button styling
            filterButtons.forEach(b => b.classList.remove('filter-active'));
            btn.classList.add('filter-active');

            renderProducts();
          });
        });

        // Mark "All" as active on load
        const allBtn = Array.from(filterButtons).find(b => b.dataset.filter === 'all');
        if (allBtn) {
          allBtn.classList.add('filter-active');
        }
      }
    }

    // Fetch products from your Google Apps Script JSON endpoint
    fetch('https://script.google.com/macros/s/AKfycbz6cAaLbM_pvO6M1F70vTMSmAbgkB_dtH5VSeBPZmZrC2sqKU0O3QCyeNrv3XbQNdZV/exec')
      .then(response => response.json())
      .then(products => {
        // Normalize store field so only "amazon" or "etsy" exist
        allProducts = (products || []).map(p => {
          const store = (p.store || '').toLowerCase().trim();
          return {
            ...p,
            store: store === 'etsy' ? 'etsy' : 'amazon'
          };
        });

        setupUI();
        renderProducts();
      })
      .catch(err => console.error('Error loading products:', err));
  </script>

</body>
</html>
